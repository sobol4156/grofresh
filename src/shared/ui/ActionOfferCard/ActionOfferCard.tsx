import { ReactNode } from "react";
import Button from "../Button";

interface ActionOfferCardProps {
  text: string;
  type: 'set-payment' | 'apply-discount';
  onClick: () => void;
}

const ACTION_CONFIG: Record<
  ActionOfferCardProps['type'],
  { buttonLabel: string; icon: ReactNode }
> = {
  'set-payment': {
    buttonLabel: 'Set',
    icon: (
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M11.5386 14.2998C11.8264 14.2998 12.1027 14.4137 12.3062 14.6172C12.5096 14.8207 12.6235 15.097 12.6235 15.3848C12.6235 15.6725 12.5096 15.9489 12.3062 16.1523C12.1027 16.3558 11.8264 16.4697 11.5386 16.4697C11.2508 16.4697 10.9745 16.3558 10.771 16.1523C10.5675 15.9489 10.4536 15.6725 10.4536 15.3848C10.4536 15.097 10.5675 14.8207 10.771 14.6172C10.9745 14.4137 11.2508 14.2998 11.5386 14.2998Z" fill="black" stroke="black" strokeWidth="0.714286" />
        <path d="M13.7951 0.634766L16.8528 4.91938L18.8692 4.23188L20.7096 9.61554H21.6346V21.154H1.44226V9.61554H1.93265V9.60592L2.55572 9.61169L13.7951 0.634766ZM9.03553 9.61554H18.6778L17.6807 6.69919L16.2173 7.16746L9.03553 9.61554ZM7.53745 8.09342L14.9519 5.56746L13.4096 3.404L7.53745 8.09342ZM5.28842 11.5386H3.36534V13.4617C3.87537 13.4617 4.36451 13.2591 4.72516 12.8984C5.08581 12.5378 5.28842 12.0486 5.28842 11.5386ZM14.9038 15.3848C14.9038 14.9428 14.8168 14.5052 14.6476 14.0969C14.4785 13.6886 14.2306 13.3176 13.9181 13.0051C13.6056 12.6926 13.2346 12.4447 12.8263 12.2756C12.418 12.1064 11.9804 12.0194 11.5384 12.0194C11.0965 12.0194 10.6588 12.1064 10.2505 12.2756C9.84223 12.4447 9.47123 12.6926 9.15873 13.0051C8.84622 13.3176 8.59833 13.6886 8.42921 14.0969C8.26008 14.5052 8.17303 14.9428 8.17303 15.3848C8.17303 16.2773 8.5276 17.1333 9.15873 17.7645C9.78986 18.3956 10.6459 18.7502 11.5384 18.7502C12.431 18.7502 13.287 18.3956 13.9181 17.7645C14.5492 17.1333 14.9038 16.2773 14.9038 15.3848ZM19.7115 19.2309V17.3078C19.2015 17.3078 18.7123 17.5105 18.3517 17.8711C17.991 18.2317 17.7884 18.7209 17.7884 19.2309H19.7115ZM17.7884 11.5386C17.7884 12.0486 17.991 12.5378 18.3517 12.8984C18.7123 13.2591 19.2015 13.4617 19.7115 13.4617V11.5386H17.7884ZM3.36534 19.2309H5.28842C5.28842 18.7209 5.08581 18.2317 4.72516 17.8711C4.36451 17.5105 3.87537 17.3078 3.36534 17.3078V19.2309Z" fill="black" />
      </svg>

    ),
  },
  'apply-discount': {
    buttonLabel: 'Apply',
    icon: (
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3.84595 4.20361H19.2307C19.646 4.20361 20.0445 4.36805 20.3381 4.66162C20.6318 4.95524 20.7971 5.35381 20.7971 5.76904V9.28857C20.3247 9.36349 19.8838 9.58374 19.5413 9.92627C19.1138 10.3539 18.8733 10.9339 18.8733 11.5386C18.8733 12.1432 19.1137 12.7233 19.5413 13.1509C19.8838 13.4934 20.3247 13.7127 20.7971 13.7876V17.3081C20.797 17.7232 20.6316 18.121 20.3381 18.4146C20.0445 18.7082 19.646 18.8735 19.2307 18.8735H3.84595C3.43072 18.8735 3.03214 18.7082 2.73853 18.4146C2.4452 18.121 2.28062 17.7231 2.28052 17.3081V13.7876C2.75266 13.7126 3.19307 13.4932 3.5354 13.1509C3.96301 12.7233 4.20335 12.1433 4.20337 11.5386C4.20337 10.9338 3.963 10.3539 3.5354 9.92627C3.19303 9.5839 2.75273 9.36359 2.28052 9.28857V5.76904C2.28058 5.35381 2.44491 4.95524 2.73853 4.66162C3.03214 4.368 3.43072 4.20367 3.84595 4.20361ZM14.6516 6.47803L6.47778 14.6509L6.22583 14.9038L6.47778 15.1567L7.92017 16.5991L8.1731 16.8511L8.42603 16.5991L16.5989 8.42529L16.8508 8.17334L16.5989 7.92041L15.1565 6.47803L14.9036 6.22607L14.6516 6.47803ZM14.6057 12.5464C14.0596 12.5464 13.5358 12.7638 13.1497 13.1499C12.7636 13.536 12.5471 14.0599 12.5471 14.606C12.5472 15.7454 13.4662 16.6645 14.6057 16.6646C15.1518 16.6646 15.6756 16.4481 16.0618 16.062C16.4479 15.6759 16.6652 15.152 16.6653 14.606C16.6653 13.4664 15.7453 12.5464 14.6057 12.5464ZM8.47095 6.4126C7.92493 6.41266 7.40099 6.62904 7.01489 7.01514C6.62881 7.40128 6.41235 7.92515 6.41235 8.47119C6.41235 9.61067 7.3315 10.5297 8.47095 10.5298C9.01699 10.5298 9.54086 10.3133 9.927 9.92725C10.3132 9.5411 10.5305 9.01729 10.5305 8.47119C10.5305 7.33164 9.6105 6.4126 8.47095 6.4126Z" fill="black" stroke="black" strokeWidth="0.714286" />
      </svg>
    ),
  },
};

export default function ActionOfferCard({ text, type, onClick }: ActionOfferCardProps) {
  const { icon, buttonLabel } = ACTION_CONFIG[type];

  return (
    <div className="shadow bg-white p-4 rounded-[30px] flex items-center">

      <div className="bg-flash-white rounded-full flex justify-center items-center p-[13px]">
        {icon}
      </div>

      <span className="small-regular ml-2.5">{text}</span>

      <Button sx={{
        marginLeft: 'auto',
        textTransform: 'none',
        borderRadius: '10px',
        color: 'white',
        backgroundColor: 'var(--color-green-500)',
        '&:hover': { backgroundColor: 'var(--color-green-400)' },
      }}
        onClick={onClick}
      >
        {buttonLabel}
      </Button>
    </div>

  )
}


